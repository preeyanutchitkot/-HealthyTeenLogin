"use client";

import { useState } from "react";
import { useRouter } from "next/navigation";

export default function FgaClient({ styles }) {
  const [tab, setTab] = useState("privacy");
  const [isChecked, setIsChecked] = useState(false);
  const router = useRouter();

  const privacyText = `
1. ข้อมูลที่เก็บรวบรวม
เราเก็บรวบรวมข้อมูลบางประเภทจากผู้ใช้เพื่อการใช้งานระบบของเรา ซึ่งอาจรวมถึง:
- ข้อมูลส่วนบุคคล เช่น ชื่อ, อีเมล, เบอร์โทรศัพท์ (กรณีที่ผู้ใช้สมัครสมาชิกหรือกรอกข้อมูล)
- ข้อมูลการใช้งาน เช่น ข้อมูลที่เกี่ยวข้องกับการบันทึกอาหาร, เมนูแนะนำ, การใช้แชทบอท
- ข้อมูลสุขภาพ เช่น น้ำหนัก, อาหารที่บันทึก, เป้าหมายสุขภาพ (ถ้ามีการบันทึกข้อมูลเกี่ยวกับสุขภาพ)
2. วิธีการใช้ข้อมูล
ข้อมูลที่เราเก็บจะถูกนำไปใช้ในหลายวัตถุประสงค์ เช่น:
- การให้บริการฟังก์ชันของแอปพลิเคชัน เช่น บันทึกอาหาร, แนะนำเมนู
- การวิเคราะห์พฤติกรรมการใช้เพื่อปรับปรุงบริการ
- การตอบคำถามของผู้ใช้ผ่านแชทบอท
- การส่งข้อมูลที่เกี่ยวข้องกับสุขภาพหรือเมนูที่แนะนำ
3. การเก็บรักษาข้อมูล
ข้อมูลที่เก็บจะถูกเก็บรักษาในระบบฐานข้อมูลของเราโดยใช้เทคโนโลยีที่ปลอดภัย และไม่เปิดเผยข้อมูลต่อบุคคลที่สามโดยไม่ได้รับอนุญาตจากผู้ใช้ เว้นแต่จะเป็นไปตามกฎหมายที่บังคับใช้
4. การแชร์ข้อมูล
เราจะไม่ขายหรือเปิดเผยข้อมูลส่วนบุคคลของคุณกับบุคคลภายนอก เว้นแต่จะเป็นไปตามกฎหมายที่บังคับใช้ หรือหากมีการร้องขอจากหน่วยงานที่มีอำนาจตามกฎหมาย (เช่น คำสั่งศาล)
5. การใช้คุกกี้
เว็บไซต์หรือแอปพลิเคชันของเราสามารถใช้ คุกกี้ (Cookies) เพื่อเก็บข้อมูลเกี่ยวกับการใช้งานเว็บไซต์ หรือการตั้งค่าที่ผู้ใช้เลือก การใช้คุกกี้นี้จะช่วยให้เราปรับปรุงบริการที่มีอยู่
6. สิทธิของผู้ใช้
ผู้ใช้มีสิทธิในการ:
- เข้าถึงข้อมูลส่วนบุคคลที่เราเก็บ
- ขอแก้ไขหรือลบข้อมูลส่วนบุคคล
- ยกเลิกการใช้ข้อมูลส่วนบุคคลหรือขอให้เราหยุดใช้ข้อมูลในบางกรณี
7. ความปลอดภัยของข้อมูล
เราใช้มาตรการรักษาความปลอดภัยที่เหมาะสมในการปกป้องข้อมูลส่วนบุคคลจากการเข้าถึง การเปิดเผย การใช้ การเปลี่ยนแปลง หรือการทำลายโดยไม่ได้รับอนุญาต
8. การเปลี่ยนแปลงข้อกำหนด
ข้อกำหนดความเป็นส่วนตัวนี้อาจมีการเปลี่ยนแปลงในอนาคต หากมีการเปลี่ยนแปลง เราจะแจ้งให้ผู้ใช้ทราบผ่านทางการประกาศในเว็บไซต์หรือแอปพลิเคชัน และจะระบุวันที่ที่มีการปรับปรุง
9. ติดต่อเรา
หากคุณมีข้อสงสัยเกี่ยวกับข้อกำหนดความเป็นส่วนตัวนี้ หรือการใช้ข้อมูลส่วนบุคคล กรุณาติดต่อเราที่:
อีเมล: [email@example.com]
ที่อยู่: [ที่อยู่ของคณะพยาบาล]
`;

    const termsText = `
1. บทนำ
ข้อกำหนดและเงื่อนไขการใช้งานนี้ (เรียกว่า “ข้อกำหนด”) กำหนดข้อกำหนดในการใช้บริการ LINE OA ระบบบันทึกอาหารและสุขภาพของคณะพยาบาล [ชื่อโครงการ] ("เรา", "ของเรา" หรือ "ระบบ") โดยที่ผู้ใช้ ("ผู้ใช้", "ท่าน") ต้องยอมรับข้อกำหนดนี้ก่อนเริ่มใช้งานบริการของเรา
หากท่านไม่เห็นด้วยกับข้อกำหนดนี้, กรุณาหยุดใช้งานระบบของเรา
2. การสมัครสมาชิกและการเข้าถึงบริการ
- เพื่อให้บริการเต็มรูปแบบท่านต้องสมัครสมาชิกในระบบและให้ข้อมูลที่ถูกต้องและครบถ้วน
- ท่านจะได้รับชื่อผู้ใช้ (Username) และรหัสผ่าน (Password) เพื่อเข้าสู่ระบบ และท่านต้องรับผิดชอบในการรักษาความลับของข้อมูลการเข้าสู่ระบบนั้น
3. สิทธิ์ในการใช้บริการ
- ท่านได้รับสิทธิ์ในการใช้บริการตามที่ระบุในข้อกำหนดนี้เท่านั้น
- ท่านไม่สามารถนำบริการนี้ไปใช้ในทางที่ผิดกฎหมาย หรือกระทำการที่อาจส่งผลกระทบต่อความมั่นคงของระบบหรือผู้ใช้ท่านอื่น
4. การใช้ข้อมูลส่วนบุคคล
- ข้อมูลส่วนบุคคลที่ท่านให้กับเรา จะถูกใช้เพื่อการให้บริการที่เกี่ยวข้องกับการบันทึกอาหาร การแนะนำเมนู และการใช้แชทบอท
- ข้อมูลจะถูกเก็บรักษาและใช้งานตาม ข้อกำหนดความเป็นส่วนตัว (Privacy Policy) ซึ่งเป็นส่วนหนึ่งของข้อกำหนดนี้
5. ข้อจำกัดในการใช้งาน
ท่านตกลงที่จะไม่ใช้บริการหรือระบบนี้:
- เพื่อกระทำการที่ผิดกฎหมายหรือฝ่าฝืนสิทธิของผู้อื่น
- ใช้ข้อมูลจากระบบในทางที่ผิด
- ละเมิดความเป็นส่วนตัวของผู้ใช้ท่านอื่น
- ส่งข้อมูลหรือเนื้อหาที่เป็นอันตราย เช่น ไวรัสหรือซอฟต์แวร์ที่เป็นอันตราย
6. ลิขสิทธิ์
- ระบบ LINE OA และบริการที่เกี่ยวข้องทั้งหมด รวมถึงเนื้อหาภายใน เช่น ข้อความ, รูปภาพ, การออกแบบ, และซอฟต์แวร์ เป็นทรัพย์สินของเราและได้รับการคุ้มครองโดยกฎหมายลิขสิทธิ์
- ท่านไม่สามารถใช้, คัดลอก, หรือแจกจ่ายเนื้อหาที่เกี่ยวข้องโดยไม่ได้รับอนุญาต
7. การยกเลิกหรือหยุดการใช้งาน
- เราขอสงวนสิทธิ์ในการยกเลิกการใช้งานบริการของท่านหรือจำกัดการเข้าถึงหากท่านละเมิดข้อกำหนดนี้
- หากท่านไม่ต้องการใช้บริการแล้ว ท่านสามารถยกเลิกการสมัครสมาชิกได้ตามขั้นตอนที่กำหนด
8. การจำกัดความรับผิด
- เราจะไม่รับผิดชอบต่อความเสียหายที่เกิดขึ้นจากการใช้งานบริการของเรา เช่น การสูญหายของข้อมูล หรือการเข้าถึงข้อมูลที่ไม่ได้รับอนุญาต
- เราจะไม่รับผิดชอบต่อความเสียหายจากการกระทำของบุคคลที่สาม หรือข้อผิดพลาดที่เกิดจากการใช้งานของผู้ใช้
9. การเปลี่ยนแปลงข้อกำหนด
- เราสามารถแก้ไขหรืออัปเดตข้อกำหนดนี้ได้ตามที่เห็นสมควร โดยจะประกาศการเปลี่ยนแปลงผ่านทางระบบหรือเว็บไซต์
ท่านตกลงที่จะยอมรับข้อกำหนดที่แก้ไขหากท่านยังคงใช้บริการหลังจากการเปลี่ยนแปลง
10. กฎหมายที่บังคับใช้
ข้อกำหนดนี้จะอยู่ภายใต้การบังคับใช้ของกฎหมายในประเทศไทย และหากมีข้อพิพาทเกิดขึ้นจะต้องถูกดำเนินการภายในเขตอำนาจศาลของประเทศไทย
`;

   return (
    <>
      <div className={styles.tabs}>
        <button
          className={`${styles.tab} ${tab === "privacy" ? styles.active : styles.inactive}`}
          onClick={() => setTab("privacy")}
          type="button"
        >
          นโยบายความเป็นส่วนตัว
        </button>
        <button
          className={`${styles.tab} ${tab === "terms" ? styles.active : styles.inactive}`}
          onClick={() => setTab("terms")}
          type="button"
        >
          ข้อกำหนดและเงื่อนไขการใช้งาน
        </button>
      </div>

      <main className={styles.content}>
        {tab === "privacy" ? privacyText : termsText}

        {/* footer fixed เหนือเมนูล่างเสมอ */}
        <div className={styles.footer}>
          <div className={styles.footerInner}>
            <div className={styles.agreement}>
              <input
                id="accept"
                type="checkbox"
                checked={isChecked}
                onChange={(e) => setIsChecked(e.target.checked)}
                className={styles.checkbox}
              />
              <label htmlFor="accept" className={styles.agreementText}>
                คุณยอมรับ <span>ข้อกำหนดการใช้งาน</span> และรับทราบ <span>นโยบายความเป็นส่วนตัว</span>
              </label>
            </div>

            <button
              className={styles.nextBtn}
              disabled={!isChecked}
              onClick={() => router.push("/line/liff")}
              type="button"
            >
              ต่อไป
            </button>
          </div>
        </div>
      </main>
    </>
  );
}